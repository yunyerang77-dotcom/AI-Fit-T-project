<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>심플 카운터 게임</title>
    <style>
      :root {
        --bg: #0f172a;
        --panel: #111827;
        --text: #e5e7eb;
        --muted: #a1a1aa;
        --accent: #22c55e;
        --danger: #ef4444;
        --btn: #1f2937;
        --btn-hover: #374151;
        --shadow: 0 10px 25px rgba(0,0,0,0.35);
      }

      * { box-sizing: border-box; }

      html, body {
        height: 100%;
      }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: radial-gradient(1200px 800px at 50% -10%, #1f2937, var(--bg));
        color: var(--text);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .game {
        width: min(92vw, 460px);
        background: linear-gradient(180deg, #0b1020, var(--panel));
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 18px;
        padding: 28px 24px 24px;
        box-shadow: var(--shadow);
        text-align: center;
      }

      .highscore {
        font-size: 14px;
        letter-spacing: .2px;
        color: var(--muted);
        margin-bottom: 12px;
      }

      .score {
        font-weight: 800;
        font-size: clamp(56px, 8vw, 96px);
        line-height: 1;
        margin: 6px 0 18px;
        text-shadow: 0 4px 18px rgba(0,0,0,.35);
      }

      .controls {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 14px;
        margin-top: 6px;
      }

      .btn {
        appearance: none;
        border: 1px solid rgba(255,255,255,0.08);
        background: var(--btn);
        color: var(--text);
        border-radius: 14px;
        padding: 16px 18px;
        font-size: 20px;
        font-weight: 700;
        cursor: pointer;
        transition: transform .08s ease, background-color .15s ease, box-shadow .15s ease, border-color .15s ease, color .15s ease;
        box-shadow: 0 6px 20px rgba(0,0,0,.25) inset, 0 2px 10px rgba(0,0,0,.22);
        user-select: none;
      }

      .btn:hover {
        background: var(--btn-hover);
        transform: translateY(-1px);
        box-shadow: 0 6px 22px rgba(0,0,0,.28) inset, 0 6px 18px rgba(0,0,0,.28);
      }

      .btn:active {
        transform: translateY(0);
        box-shadow: 0 4px 18px rgba(0,0,0,.25) inset, 0 2px 12px rgba(0,0,0,.20);
      }

      .btn.inc { border-color: rgba(34,197,94,0.55); }
      .btn.inc:hover { color: #d1fae5; text-shadow: 0 0 14px rgba(34,197,94,.55); }
      .btn.dec { border-color: rgba(239,68,68,0.45); }
      .btn.dec:hover { color: #fee2e2; text-shadow: 0 0 14px rgba(239,68,68,.55); }

      .hint {
        margin-top: 18px;
        font-size: 12px;
        color: var(--muted);
        opacity: .85;
      }

      /* Reduce motion for people who prefer it */
      @media (prefers-reduced-motion: reduce) {
        .btn { transition: none; }
      }
    </style>
  </head>
  <body>
    <main class="game" role="region" aria-label="카운터 게임">
      <div class="highscore" id="highscore" aria-live="polite">최고 점수: 0</div>
      <div class="score" id="score" aria-live="polite" aria-atomic="true">0</div>
      <div class="controls">
        <button class="btn dec" id="decrement" aria-label="점수 감소">−</button>
        <button class="btn inc" id="increment" aria-label="점수 증가">＋</button>
      </div>
      <div class="hint">키보드: ↑ / ↓ 또는 + / -</div>
    </main>

    <script>
      (function () {
        const STORAGE_KEY = "counterGameHighScore";

        const scoreEl = document.getElementById("score");
        const highScoreEl = document.getElementById("highscore");
        const incBtn = document.getElementById("increment");
        const decBtn = document.getElementById("decrement");

        let score = 0;
        let highScore = 0;

        function loadHighScore() {
          try {
            const saved = localStorage.getItem(STORAGE_KEY);
            highScore = Number.parseInt(saved || "0", 10);
            if (!Number.isFinite(highScore) || highScore < 0) highScore = 0;
          } catch (e) {
            highScore = 0;
          }
        }

        function saveHighScore() {
          try {
            localStorage.setItem(STORAGE_KEY, String(highScore));
          } catch (e) {
            // Ignore storage errors
          }
        }

        function render() {
          scoreEl.textContent = String(score);
          highScoreEl.textContent = `최고 점수: ${highScore}`;
        }

        function maybeUpdateHighScore() {
          if (score > highScore) {
            highScore = score;
            saveHighScore();
          }
        }

        function increment() {
          score += 1;
          maybeUpdateHighScore();
          render();
        }

        function decrement() {
          score -= 1;
          render();
        }

        // Event bindings
        incBtn.addEventListener("click", increment);
        decBtn.addEventListener("click", decrement);

        // Keyboard support: arrows, plus, minus, space to increment
        window.addEventListener("keydown", (ev) => {
          const key = ev.key;
          if (key === "ArrowUp" || key === "+" || key === "=") {
            increment();
          } else if (key === "ArrowDown" || key === "-" || key === "_") {
            decrement();
          } else if (key === " ") {
            increment();
          }
        });

        // Init
        loadHighScore();
        score = 0;
        render();
      })();
    </script>
  </body>
</html>


